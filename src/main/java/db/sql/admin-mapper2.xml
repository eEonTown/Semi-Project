<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

<entry key="loginAdmin">
	SELECT 
	       USER_NO
	     , USER_ID
	     , USER_PWD
	     , USER_NAME
	     , ADMIN_STATUS
	  FROM USERINFO
	 WHERE USER_ID = ?
	   AND USER_PWD = ?
	   AND ADMIN_STATUS = 'Y'
</entry>

<entry key="selectStudentListCount">
	SELECT COUNT(*) AS "LISTCOUNT"
	  FROM USERINFO
	 WHERE USER_STATUS = 'N'
	   AND USER_DIVISION = 1
	   AND (USER_NO = ? OR USER_NAME LIKE ?)
</entry>

<entry key="stuListCountSearch">
SELECT COUNT(*) AS "LISTCOUNT"
  FROM (SELECT ROWNUM AS "RNO", A.*
          FROM (SELECT 
                       USER_NO
                     , USER_NAME
                  FROM USERINFO
                 WHERE  USER_DIVISION = 1
                   AND (USER_NO = ? OR USER_NAME LIKE ?)
                   ORDER 
	                    BY USER_NO DESC) A)
</entry>

<entry key="stuInfoOutCount">
	SELECT COUNT(*) AS "LISTCOUNT"
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_NAME
	                  FROM USERINFO
	                 WHERE  USER_DIVISION = 1
	                   AND USER_STATUS = 'Y'
	                   AND (USER_NO = ? OR USER_NAME LIKE ?)
	                   ORDER 
		                    BY USER_NO DESC) A)
</entry>

<entry key="selectMentorListCount">
		SELECT COUNT(*) AS "LISTCOUNT"
		  FROM USERINFO
		 WHERE USER_STATUS = 'N'
		   AND USER_DIVISION = 2
		   AND (USER_NO = ? OR USER_NAME LIKE ?)
</entry>

<entry key="currentCount">
	  SELECT COUNT(*) AS "LISTCOUNT"
		FROM USERINFO
		JOIN MENTOR USING(USER_NO)
	   WHERE USER_STATUS = 'N'
		 AND USER_DIVISION = 2
		 AND MT_GRADE = 1
		 AND MT_GRANT = 'A'
		 AND (USER_NO = ? OR USER_NAME LIKE ?)
</entry>

<entry key="lecturerCount">
	  SELECT COUNT(*) AS "LISTCOUNT"
		FROM USERINFO
		JOIN MENTOR USING(USER_NO)
	   WHERE USER_STATUS = 'N'
		 AND USER_DIVISION = 2
		 AND MT_GRADE = 2
		 AND MT_GRANT = 'A'
		 AND (USER_NO = ? OR USER_NAME LIKE ?)
</entry>

<entry key="outMentorCount">
		SELECT COUNT(*) AS "LISTCOUNT"
		FROM USERINFO
		JOIN MENTOR USING(USER_NO)
	   WHERE ((USER_STATUS = 'Y'
		 AND USER_DIVISION = 2)
         OR
		     MT_GRANT = 'D')
		 AND (USER_NO = ? OR USER_NAME LIKE ?)
</entry>

<entry key="selectAllUserCount">
	SELECT COUNT(*) AS "LISTCOUNT"
	  FROM USERINFO
	 WHERE USER_STATUS = 'N'
	   AND USER_DIVISION IS NOT NULL
	   AND (USER_NO = ? OR USER_NAME LIKE ?)
</entry>

<entry key="outAllUserCount">
	SELECT COUNT(*) AS "LISTCOUNT"
	  FROM USERINFO
	 WHERE USER_STATUS = 'Y'
	   AND USER_DIVISION IS NOT NULL
	   AND (USER_NO = ? OR USER_NAME LIKE ?)
</entry>


<entry key="studentInfo">
	SELECT *
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_PWD
	                     , USER_NAME
	                     , USER_EMAIL
	                     , USER_PHONE
	                     , USER_ENROLLDATE
	                     , USER_STATUS
	                     , ADMIN_STATUS
	                     , USER_DIVISION
	                  FROM USERINFO
	                 WHERE USER_STATUS = 'N'
	                   AND USER_DIVISION = 1
	                   AND (USER_NO = ? OR USER_NAME LIKE ?)
	                 ORDER 
	                    BY USER_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="stuInfoAll">
	SELECT * 
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_PWD
	                     , USER_NAME
	                     , USER_EMAIL
	                     , USER_PHONE
	                     , USER_ENROLLDATE
	                     , USER_STATUS
	                     , ADMIN_STATUS
	                     , USER_DIVISION
	                  FROM USERINFO
	                 WHERE  USER_DIVISION = 1
	                   AND (USER_NO = ? OR USER_NAME LIKE ?)
	                   ORDER 
		                    BY USER_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="stuInfoOutSearch">
	SELECT * 
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_PWD
	                     , USER_NAME
	                     , USER_EMAIL
	                     , USER_PHONE
	                     , USER_ENROLLDATE
	                     , USER_STATUS
	                     , ADMIN_STATUS
	                     , USER_DIVISION
	                  FROM USERINFO
	                 WHERE  USER_DIVISION = 1
	                   AND USER_STATUS= 'Y'
	                   AND (USER_NO = ? OR USER_NAME LIKE ?)
	                   ORDER 
		                    BY USER_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="mentorInfo">
	SELECT * 
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_PWD
	                     , USER_NAME
	                     , USER_EMAIL
	                     , USER_PHONE
	                     , USER_ENROLLDATE
	                     , USER_STATUS
	                     , ADMIN_STATUS
	                     , USER_DIVISION
	                  FROM USERINFO
	                 WHERE  USER_DIVISION = 2
	                   AND USER_STATUS= 'N'
	                   AND (USER_NO = ? OR USER_NAME LIKE ?)
	                   ORDER 
		                    BY USER_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="currentInfo">
	 SELECT * 
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_PWD
	                     , USER_NAME
	                     , USER_EMAIL
	                     , USER_PHONE
	                     , USER_ENROLLDATE
	                     , USER_STATUS
	                     , ADMIN_STATUS
	                     , USER_DIVISION
	                  FROM USERINFO
	                    JOIN MENTOR USING(USER_NO)
	                   WHERE USER_STATUS = 'N'
	                     AND USER_DIVISION = 2
	                     AND MT_GRADE = 1
	                     AND MT_GRANT = 'A'
	                     AND (USER_NO = ? OR USER_NAME LIKE ?)
	                   ORDER 
		                    BY USER_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="lecturerList">
	 SELECT * 
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_PWD
	                     , USER_NAME
	                     , USER_EMAIL
	                     , USER_PHONE
	                     , USER_ENROLLDATE
	                     , USER_STATUS
	                     , ADMIN_STATUS
	                     , USER_DIVISION
	                  FROM USERINFO
	                    JOIN MENTOR USING(USER_NO)
	                   WHERE USER_STATUS = 'N'
	                     AND USER_DIVISION = 2
	                     AND MT_GRADE = 2
	                     AND MT_GRANT = 'A'
	                     AND (USER_NO = ? OR USER_NAME LIKE ?)
	                   ORDER 
		                    BY USER_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="outMentorList">
	 SELECT * 
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_PWD
	                     , USER_NAME
	                     , USER_EMAIL
	                     , USER_PHONE
	                     , USER_ENROLLDATE
	                     , USER_STATUS
	                     , ADMIN_STATUS
	                     , USER_DIVISION
	                  FROM USERINFO
	                    JOIN MENTOR USING(USER_NO)
	                   WHERE ((USER_STATUS = 'Y'
	                     AND USER_DIVISION = 2)
	                     OR  MT_GRANT = 'D')
	                     AND (USER_NO = ? OR USER_NAME LIKE ?)
	                   ORDER 
		                    BY USER_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="withdrawalStu">
	UPDATE USERINFO
   	SET USER_STATUS = 'Y'
 	WHERE USER_NAME = ?
   	AND USER_ID = ?
</entry>

<entry key="restoreStu">
	UPDATE USERINFO
   	SET USER_STATUS = 'N'
 	WHERE USER_NAME = ?
   	AND USER_ID = ?
</entry>

<entry key="mentorDetailInfo">
	SELECT 
	       USER_NO
	     , CLCG_NO
	     , MT_COMPANY
	     , MT_JOB
	     , MT_GRADE
	     , MT_GRANT
	     , MT_ENROLLDATE
	     , EMPCARD_PATH
	     , EMPCARD_ORIGINNAME
	     , IDCARD_PATH
	     , IDCARD_ORIGINNAME
	  FROM MENTOR
	 WHERE USER_NO = ?
</entry>

<entry key="upMenCate">
	UPDATE MENTOR
	   SET CLCG_NO = ?
	     , MT_GRADE = ?
	 WHERE USER_NO = ?
</entry>

<entry key="withdrawalMen">
	UPDATE USERINFO
   	SET USER_STATUS = 'Y'
 	WHERE USER_NO = ?
</entry>

<entry key="restoreMen1">
	UPDATE MENTOR M
	   SET MT_GRANT = 'A'
	 WHERE USER_NO = ?
</entry>

<entry key="restoreMen2">
	UPDATE USERINFO
   	SET USER_STATUS = 'N'
 	WHERE USER_NO = ?
</entry>

<entry key="selectAllUserList">
	SELECT *
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_PWD
	                     , USER_NAME
	                     , USER_EMAIL
	                     , USER_PHONE
	                     , USER_ENROLLDATE
	                     , USER_STATUS
	                     , ADMIN_STATUS
	                     , USER_DIVISION
	                  FROM USERINFO
	                 WHERE USER_STATUS = 'N'
	                   AND USER_DIVISION IS NOT NULL
	                   AND (USER_NO = ? OR USER_NAME LIKE ?)
	                 ORDER 
	                    BY USER_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="outAllUserList">
	SELECT *
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_PWD
	                     , USER_NAME
	                     , USER_EMAIL
	                     , USER_PHONE
	                     , USER_ENROLLDATE
	                     , USER_STATUS
	                     , ADMIN_STATUS
	                     , USER_DIVISION
	                  FROM USERINFO
	                 WHERE USER_STATUS = 'Y'
	                   AND USER_DIVISION IS NOT NULL
	                   AND (USER_NO = ? OR USER_NAME LIKE ?)
	                 ORDER 
	                    BY USER_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="selectPayDetailCount">
	SELECT COUNT(*) AS "LISTCOUNT"
	  FROM PAY
	 WHERE USER_NO = ?
</entry>

<entry key="paymentBuyListCount">
	SELECT COUNT(*) AS "LISTCOUNT"
		FROM PAY P
		JOIN USERINFO U USING(USER_NO)
		WHERE USER_NO = ?
		   OR USER_NAME LIKE ?
</entry>

<entry key="payDetailInfo">
	     SELECT *
		  FROM (SELECT ROWNUM AS "RNO", A.*
		          FROM (SELECT 
		                       PAY_NO
		                     , P.USER_NO
		                     , CL_TITLE
		                     , CP_NAME
		                     , PAYMENT
		                     , REFUND
		                     , FINAL_PAYMENT
		                     , ORDER_NAME
		                     , ORDER_PHONE
		                     , ORDER_EMAIL
	                         , PAY_DATE
	                         , REFUND_DATE
		                  FROM PAY P
	                      JOIN CLASS USING(CL_NO)
	                      FULL JOIN ISSUANCECOUPON USING(ISUCP_NO)
	                      FULL JOIN COUPON C USING(CP_NO)
		                 WHERE P.USER_NO = ?
		                 ORDER 
		                    BY PAY_NO DESC) A)
		 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="paymentBuyList">
	 SELECT *
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       PAY_NO
	                     , P.USER_NO
	                     , CL_TITLE
	                     , CP_NAME
	                     , PAYMENT
	                     , REFUND
	                     , FINAL_PAYMENT
	                     , ORDER_NAME
	                     , ORDER_PHONE
	                     , ORDER_EMAIL
                         , PAY_DATE
                         , REFUND_DATE
                         , USER_NAME
                         , USER_ID    
	                  FROM PAY P
                      JOIN USERINFO U ON(P.USER_NO=U.USER_NO)
                      JOIN CLASS USING(CL_NO)
                      LEFT JOIN ISSUANCECOUPON USING(ISUCP_NO)
                      LEFT JOIN COUPON C USING(CP_NO)
	                 WHERE P.USER_NO = ? 
                        OR USER_NAME LIKE ?
	                 ORDER 
	                    BY PAY_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="paymentRefundListCount">
		SELECT COUNT(*) AS "LISTCOUNT"
		FROM PAY P
		JOIN USERINFO U USING(USER_NO)
		WHERE (USER_NO = ?
		   OR USER_NAME LIKE ?)
		  AND REFUND = 'Y'
</entry>

<entry key="paymentRefundList">
	 SELECT *
	  FROM (SELECT ROWNUM AS "RNO", A.*
	          FROM (SELECT 
	                       PAY_NO
	                     , P.USER_NO
	                     , CL_TITLE
	                     , CP_NAME
	                     , PAYMENT
	                     , REFUND
	                     , FINAL_PAYMENT
	                     , ORDER_NAME
	                     , ORDER_PHONE
	                     , ORDER_EMAIL
                         , PAY_DATE
                         , REFUND_DATE
                         , USER_NAME
                         , USER_ID    
	                  FROM PAY P
                      JOIN USERINFO U ON(P.USER_NO=U.USER_NO)
                      JOIN CLASS USING(CL_NO)
                      LEFT JOIN ISSUANCECOUPON USING(ISUCP_NO)
                      LEFT JOIN COUPON C USING(CP_NO)
	                 WHERE (P.USER_NO = ? 
                        OR USER_NAME LIKE ?)
                       AND REFUND = 'Y'
	                 ORDER 
	                    BY PAY_NO DESC) A)
	 WHERE RNO BETWEEN ? AND ?
</entry>

<entry key="couponListCount">
	SELECT COUNT(*) AS "LISTCOUNT"
	FROM COUPON
	ORDER BY CP_NO DESC
</entry>

<entry key="paymentBuyList">
	SELECT * 
	  FROM(SELECT ROWNUM RNO, A.*
	        FROM (SELECT 
	                    CP_NO
	                  , CP_NAME
	                  , DISCOUNT
	                  , CP_ADDDATE
	                  , CP_STATUS
	            FROM COUPON
	            ORDER BY CP_NO DESC) A)
	WHERE RNO BETWEEN ? AND ?
</entry>

</properties>